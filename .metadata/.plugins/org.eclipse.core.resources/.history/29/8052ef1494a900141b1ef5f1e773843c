package com.iiitb.utility;

import org.w3c.dom.NamedNodeMap;
import org.w3c.dom.NodeList;

import com.iiitb.blocks.Block;
import com.iiitb.blocks.Constant;

public class BlockFactory {

	public static Block generateBlock(String blockName, NodeList attributes) {

		Block block = null;
		if (blockName.equalsIgnoreCase("Constant")) {
			block = new Constant(blockName);
			for (int iter = 0; iter < attributes.getLength(); iter++) {

				if (attributes.item(iter).getNodeName() == "P")
				// System.out.println("in factory "+attributes.item(iter).getAttributes().item(0));

				{

					System.out.println("in factory "
							+ attributes.item(iter).getAttributes().item(0));
					System.out.println(attributes.item(iter).getTextContent());
					NamedNodeMap temp = attributes.item(iter).getAttributes();

					for (int tempIter = 0; tempIter < temp.getLength(); tempIter++) {
						if (temp.item(tempIter).getNodeValue()
								.equalsIgnoreCase("Value")) {

							block.setValue(attributes.item(iter)
									.getTextContent());
						}

					}

				}

			}

		}

		if (blockName.equalsIgnoreCase("Sum")) {
			block = new Constant(blockName);

		}

		return block;

	}

}
