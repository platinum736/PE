package com.iiitb.utility;

import org.w3c.dom.NamedNodeMap;
import org.w3c.dom.NodeList;

import com.iiitb.blocks.Block;
import com.iiitb.blocks.Constant;

public class BlockFactory {

	public static Block generateBlock(String blockName, NodeList attributes) {

		Block block = null;
		if (blockName.startsWith("Constant")) {
			block = new Constant(blockName);
			for (int iter = 0; iter < attributes.getLength(); iter++) {

				if (attributes.item(iter).getNodeName() == "P")

				{

					NamedNodeMap temp = attributes.item(iter).getAttributes();

					for (int tempIter = 0; tempIter < temp.getLength(); tempIter++) {
						if (temp.item(tempIter).getNodeValue()
								.equalsIgnoreCase("Value")) {

							block.setValue(attributes.item(iter)
									.getTextContent());
						}

					}

				}

			}

		}

		if (blockName.startsWith("Sum")) {
			block = new Constant(blockName);
			for (int iter = 0; iter < attributes.getLength(); iter++) {

				if (attributes.item(iter).getNodeName() == "P")

				{

					NamedNodeMap temp = attributes.item(iter).getAttributes();

					for (int tempIter = 0; tempIter < temp.getLength(); tempIter++) {
						if (temp.item(tempIter).getNodeValue()
								.equalsIgnoreCase("Inputs")) {
							attributes.item(iter)
							.getTextContent());
							block.setValue(attributes.item(iter)
									.getTextContent());
						}

					}

				}

			}

		}

		return block;

	}
}
